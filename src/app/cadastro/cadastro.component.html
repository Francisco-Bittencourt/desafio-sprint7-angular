<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light">
  <div class="card p-5 shadow-sm" style="max-width: 500px; width: 100%;">
    <h2 class="text-center text-primary mb-4">Página de Cadastro</h2>
    
    <form [formGroup]="cadastroForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Nome Completo</label>
        <input type="text" class="form-control" id="name" formControlName="name" placeholder="Seu nome completo">
        <div *ngIf="cadastroForm.get('name')?.invalid && (cadastroForm.get('name')?.dirty || cadastroForm.get('name')?.touched)" class="text-danger small mt-1">
          Nome é obrigatório.
        </div>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" formControlName="email" placeholder="seu.email@example.com">
        <div *ngIf="cadastroForm.get('email')?.invalid && (cadastroForm.get('email')?.dirty || cadastroForm.get('email')?.touched)" class="text-danger small mt-1">
          <span *ngIf="cadastroForm.get('email')?.errors?.['required']">Email é obrigatório.</span>
          <span *ngIf="cadastroForm.get('email')?.errors?.['email']">Email inválido.</span>
        </div>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">Senha</label>
        <input type="password" class="form-control" id="password" formControlName="password" placeholder="Mínimo 6 caracteres">
        <div *ngIf="cadastroForm.get('password')?.invalid && (cadastroForm.get('password')?.dirty || cadastroForm.get('password')?.touched)" class="text-danger small mt-1">
          <span *ngIf="cadastroForm.get('password')?.errors?.['required']">Senha é obrigatória.</span>
          <span *ngIf="cadastroForm.get('password')?.errors?.['minlength']">Senha deve ter no mínimo 6 caracteres.</span>
        </div>
      </div>
      
      <div class="mb-3 mt-4">
        <h6 class="text-muted">Acordo de Usuário</h6>
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="termsAndConditions" [(ngModel)]="termsAndConditionsAccepted" name="termsAndConditions" [ngModelOptions]="{standalone: true}" required>
          <label class="form-check-label" for="termsAndConditions">Eu li e aceito os Termos e Condições.</label>
        </div>
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="privacyPolicy" [(ngModel)]="privacyPolicyAccepted" name="privacyPolicy" [ngModelOptions]="{standalone: true}" required>
          <label class="form-check-label" for="privacyPolicy">Li e aceito a Política de Privacidade.</label>
        </div>
        <div *ngIf="termsError" class="text-danger small mt-2">{{ termsError }}</div>
      </div>
      <div class="d-grid gap-2">
        <button 
          *ngIf="!cadastroSuccess"
          type="submit" 
          class="btn btn-success mt-3" 
          [disabled]="cadastroForm.invalid || !termsAndConditionsAccepted || !privacyPolicyAccepted"
        >
          Cadastrar
        </button>

        <button 
          *ngIf="cadastroSuccess"
          type="button" 
          class="btn btn-success mt-3" 
          (click)="irParaDashboard()"
        >
          Ir para Dashboard
        </button>

        <button type="button" class="btn btn-outline-secondary" (click)="voltarParaLogin()">Voltar para Login</button>
      </div>
    </form>

    <div *ngIf="cadastroSuccess" class="alert alert-success text-center mt-4" role="alert">
      Olá, **{{ registeredName }}**! Você foi cadastrado(a) com sucesso!
    </div>

    <div *ngIf="userExistsError" class="alert alert-warning mt-3 text-center" role="alert">
      {{ userExistsError }}
    </div>

    <div *ngIf="formSubmitted && !cadastroSuccess && !termsError && !userExistsError" class="alert alert-danger text-center mt-4" role="alert">
      Por favor, preencha todos os campos obrigatórios corretamente.
    </div>

  </div>
</div>